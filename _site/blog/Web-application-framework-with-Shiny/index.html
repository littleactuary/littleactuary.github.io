<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Web application framework with Shiny &#8211; Little Actuary</title>
<meta name="description" content="Build an awesome R application with user-friendly web interface">
<meta name="keywords" content="R">



<!-- Twitter Cards -->
<meta name="twitter:title" content="Web application framework with Shiny">
<meta name="twitter:description" content="Build an awesome R application with user-friendly web interface">
<meta name="twitter:site" content="@duc_hien_vu">
<meta name="twitter:creator" content="@duc_hien_vu">

<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="/images/site-logo.png">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Web application framework with Shiny">
<meta property="og:description" content="Build an awesome R application with user-friendly web interface">
<meta property="og:url" content="/blog/Web-application-framework-with-Shiny/">
<meta property="og:site_name" content="Little Actuary">





<link rel="canonical" href="/blog/Web-application-framework-with-Shiny/">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Little Actuary Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<!-- Webfonts -->
<script src="https://use.edgefonts.net/source-sans-pro:n2,i2,n3,i3,n4,i4,n6,i6,n7,i7,n9,i9;source-code-pro:n4,n7;volkhov.js"></script>

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
  <script src="/assets/js/vendor/html5shiv.min.js"></script>
  <script src="/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>


<!-- MathJax -->
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body id="post">

<div class="navigation-wrapper">
	<nav role="navigation" id="site-nav" class="animated drop">
	    <ul>
      
		    
		        
		    
		    <li><a href="/about/" >About</a></li>
		  
		    
		        
		    
		    <li><a href="/vitae/" >Vitae</a></li>
		  
		    
		        
		    
		    <li><a href="/blog/" >Blog</a></li>
		  
		    
		        
		    
		    <li><a href="/search/" >Search</a></li>
		  
	    </ul>
	</nav>
</div><!-- /.navigation-wrapper -->

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->

<header class="masthead">
	<div class="wrap">
      
  		<a href="/" class="site-logo" rel="home" title="Little Actuary"><img src="/images/site-logo.png" width="200" height="200" alt="Little Actuary logo" class="animated fadeInDown"></a>
      
      <h1 class="site-title animated fadeIn"><a href="/">Little Actuary</a></h1>
		<h2 class="site-description animated fadeIn" itemprop="description">A blog to keep track of my progress on Actuarial Science and Data Science learning</h2>
	</div>
</header><!-- /.masthead -->

<div class="js-menu-screen menu-screen"></div>


<div id="main" role="main">
  <article class="hentry">
    
    <div class="entry-wrapper">
      <header class="entry-header">
        <ul class="entry-tags">
          <li><a href="/tags/#R" title="Pages tagged R">R</a></li>
        </ul>
        
          <h1 class="entry-title">Web application framework with Shiny</h1>
        
      </header>
      <footer class="entry-meta">
        
        
        
          <img src="/images/bio-photo.jpg" class="bio-photo" alt="Duc-Hien VU bio photo"></a>
        
        <span class="author vcard">By <span class="fn">Duc-Hien VU</span></span>
        <span class="entry-date date published"><time datetime="2015-11-30T20:39:55+01:00"><i class="fa fa-calendar-o"></i> November 30, 2015</time></span>
        
        <span class="entry-comments"><i class="fa fa-comment-o"></i> <a href="#disqus_thread">Comment</a></span>
        <span class="social-share-twitter">
  <a href="https://twitter.com/intent/tweet?hashtags=R&amp;text=Web%20application%20framework%20with%20Shiny&amp;url=/blog/Web-application-framework-with-Shiny/&amp;via=duc_hien_vu" title="Share on Twitter" itemprop="Twitter"><i class="fa fa-twitter-square"></i> Tweet</a>
</span>
<span class="social-share-facebook">
  <a href="https://www.facebook.com/sharer/sharer.php?u=/blog/Web-application-framework-with-Shiny/" title="Share on Facebook" itemprop="Facebook"><i class="fa fa-facebook-square"></i> Like</a>
</span>
<span class="social-share-googleplus">
  <a href="https://plus.google.com/share?url=/blog/Web-application-framework-with-Shiny/" title="Share on Google Plus" itemprop="GooglePlus"><i class="fa fa-google-plus-square"></i> +1</a>
</span>
<!-- /.social-share -->
        
      </footer>
      <div class="entry-content">
        <p>In my final internship, I had to deploy an application for large claims (major losses) reserving. Since the method required some serious statistical modeling, I didn’t choose Excel/VBA. R seemed to be a good choice because of its statistical power and also because of some useful R packages that deal with extreme values theory, distribution fitting. The question was: “How can I build a frinedly-user application with R ?”. The idea is that the end users don’t need to open R and run a hundred line of R code. My first thought was to install RExcel in order to use Excel spredsheet as the application interface. I had found a short presentation of using RExcel with the ChainLadder package in R but this solution seems to be a little out of date. Then I tried the TclTk package in R. Not too cool in my opinion! Finally I found something amazing called <a href="http://shiny.rstudio.com" target="_blank"><strong>Shiny</strong></a>. It’s an R package that allows you to deploy an interactive web application with R.</p>

<h2 id="get-inspired">Get inspired</h2>

<p>To get you inspired, <a href="http://shiny.rstudio.com/gallery/" target="_blank"><strong>here is a galery of Shiny applications</strong></a>
You will see that R users have made many amazing applications with Shiny. Since I just passed a little time of my internship to deploy the application (my main mission is to develop the actuarial model), I couldn’t build a very complex one, but I think it seems cooler than an Excel spredsheet already. It looks like this:</p>

<p><a href="/images/MajorLossesReserving.gif"><img src="/images/MajorLossesReserving.gif" alt="image" /></a></p>

<h2 id="what-is-shiny">What is Shiny?</h2>

<p>Ok, now we will look a little bit closer to Shiny. I think it’s more than just an R package. 
Firstly, Shiny proposes functions with R syntaxes that replace HTML, CSS, Javascript. So you can somehow build a web interface by writing R code. Secondly, Shiny has a feature called Interactivity which is, in my opinion, a big difference compared to standard R program. There’s an interaction between the client side (through the user interface) and the server side (your R program). Thirdly, you can run Shiny apps locally with RStudio and its browser or with R and a web browser such as Google Chrome or Internet Explorer. You can also upload your apps on the Shiny server and run them online. I didn’t try the last option because of the confidentiality concern. So I will show you in this post how to deploy and run a Shiny app locally on you computer.</p>

<h2 id="how-to-learn-shiny">How to learn Shiny?</h2>
<p>The best way to learn Shiny, of course, is to watch the series of <a href="http://shiny.rstudio.com/tutorial/" target="_blank"><strong>Shiny tutorials</strong></a> It will cover all the Shiny topics from beginner to advanced level. It however takes time. What I did in my internship is to look at a simple Shiny example and then began to build my app directly. When there was something I didn’t know how to do, I googled it. It is maybe not a good habit of learning, but in a limit time constraint, it has allowed me to build an application that meets all my need (eventhough it’s not optimal).</p>

<p>So the point is, if you want to be a Shiny pro, you can stop reading this post now and switch to the Shiny tutorials series. If you are hurry and want to deploy a Shiny app in about fifteen minutes, you can give a look at the next section where I summarize all the important points I have learned about Shiny.</p>

<h2 id="shiny-structure">Shiny structure</h2>

<p>The logic of Shiny relies on the 2 notions close to the web logic: client side and server side. Client side is the component in interaction with the end-users. Server side is the component in which your R program recieves requests from users, runs R code and then send the response to the client side.</p>
<center>
<a href="/images/Shiny_scheme.png"><img src="/images/Shiny_scheme.png" alt="image" /></a>
</center>

<p>Based on this principle, Shiny requires 2 R scripts: one for the User Interface, named <code>ui.r</code>, and one for the Server, named <code>server.r</code>. What you want to display on the the interface needs to be declared in the <code>ui.r</code> script, how this thing is done needs to be defined in <code>server.r</code>. Below is a typical structure of a Shiny application:</p>
<center>
<a href="/images/Shiny_structure.png"><img src="/images/Shiny_structure.png" alt="image" /></a>
</center>

<p>R calls the Shiny app in a main script, thanks to the Shiny package. I prefer to create a folder named <code>Shiny folder</code> where I store 2 principal elements: <code>ui.r</code> and <code>server.r</code>. You may notice that there is third element named <code>www</code>. It’s a sub-folder where I store graphical elements (images, icons, etc.) and file (pdf) that I want to display on my application. (Attention, these three elements need to be named exactly like that). I didn’t show it in the scheme but the <code>server.r</code> can call other R scripts. Normally, an application has to read input files stored somewhere that I’ve named <code>Input folder</code> and write output files (in addition of displaying them on the user interface) in <code>Output folder</code>.</p>

<p>The user interface can be displayed on the default browser of RStudio if you run Shiny through it, or on a web browser (if you are using Internet explorer version &lt; 10, you could get into trouble with Shiny). This user interface works exactly like a web page. There are buttons, input text, etc. for you to make your decision and there will be output (graphs, images, tables, etc.) displayed on the main panel, or separed into different tabs.</p>

<h2 id="some-shiny-code">Some Shiny code</h2>

<p>Frist, you need to install Shiny package</p>

<div class="highlight"><pre><code class="language-r" data-lang="r">install.packages<span class="p">(</span><span class="s">&quot;Shiny&quot;</span><span class="p">)</span></code></pre></div>

<p>I call the Shiny app in the <code>main.r</code> script. The code is simple:</p>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="kn">library</span><span class="p">(</span>shiny<span class="p">)</span>
Shiny<span class="o">::</span>runApp<span class="p">(</span><span class="s">&#39;./Shiny folder/&#39;</span><span class="p">)</span></code></pre></div>

<p>An alternative way: in RStudio, when you open <code>server.r</code> and <code>ui.r</code>, you can see the <code>Run App</code> button on the top right. You can launch your app by clicking on it. 
If you want to launch you app on your default web browser instead of the browser of RStudio, replace the last line below by:</p>

<div class="highlight"><pre><code class="language-r" data-lang="r">Shiny<span class="o">::</span>runApp<span class="p">(</span><span class="s">&#39;./Shiny folder/&#39;</span><span class="p">,</span> launch.browser <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span></code></pre></div>


        
          <div id="disqus_thread"></div><!-- /#disqus_thread -->
          
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'littleactuary'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'https://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

        
      </div><!-- /.entry-content -->
    </div><!-- /.entry-wrapper -->
    <nav class="pagination" role="navigation">
      
        <a href="/blog/connecting-R-and-Cpp-with-Rcpp/" class="btn" title="Calling C++ from R with Rcpp">Previous</a>
      
      
    </nav><!-- /.pagination -->
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo" class="entry-wrapper">
    

<span>&copy; 2016 Duc-Hien VU. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="http://mademistakes.com/so-simple/" rel="nofollow">So Simple Theme</a>.</span>
<div class="social-icons">
	<a href="https://twitter.com/duc_hien_vu" title="Duc-Hien VU on Twitter" target="_blank"><i class="fa fa-twitter-square fa-2x"></i></a>
	<a href="https://facebook.com/vuhien" title="Duc-Hien VU on Facebook" target="_blank"><i class="fa fa-facebook-square fa-2x"></i></a>
	
	<a href="https://linkedin.com/in/duc-hien-vu-50b20627" title="Duc-Hien VU on LinkedIn" target="_blank"><i class="fa fa-linkedin-square fa-2x"></i></a>
	
	<a href="https://instagram.com/vuduchien" title="Duc-Hien VU on Instagram" target="_blank"><i class="fa fa-instagram fa-2x"></i></a>
	
	<a href="https://github.com/littleactuary" title="Duc-Hien VU on Github" target="_blank"><i class="fa fa-github-square fa-2x"></i></a>
	
  
	
  <a href="/feed.xml" title="Atom/RSS feed"><i class="fa fa-rss-square fa-2x"></i></a>
</div><!-- /.social-icons -->

  </footer>
</div><!-- /.footer-wrapper -->

<script type="text/javascript">
  var BASE_URL = '';
</script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/assets/js/scripts.min.js"></script>




</body>
</html>
